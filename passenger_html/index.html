<!DOCTYPE html>
<html lang="en" dir="ltr">
    <head>
        <meta charset="utf-8">
        <title>Passengers HTML Client</title>
    </head>
    <body onLoad="loadData()">
        <h2>Passenger's client</h2>

        <div id="passengers" />

        <script>
            async function loadData() {
                var url = "http://127.0.0.1:3000/passengers"
                var response = await fetch(url, {headers: {'Accept': 'application/json'} })
                var data = await response.json()
                var div = ''
                for (var i=0; i < data.length; i++){
                    var checkIn = "Not checked in"
                    if(data[i]["checkIn"]){
                        checkIn = "Checked in"
                    }
                    div += checkIn + ' : ' + data[i]['name'] + "<br /> "
                }
                document.getElementById('passengers').innerHTML = div
            }
        </script>
    </body>
</html>